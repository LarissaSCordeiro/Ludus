CREATE DATABASE ludus

CREATE TABLE usuario 
( 
 id INT PRIMARY KEY AUTO_INCREMENT,  
 nome VARCHAR(30) NOT NULL,  
 email VARCHAR(150) NOT NULL,  
 tipo ENUM('jogador', 'desenvolvedor', 'administrador') NOT NULL,  
 senha VARCHAR(255) NOT NULL,  
 foto_perfil VARCHAR(255),  
 UNIQUE (nome,email)
); 

CREATE TABLE jogo 
( 
 id INT PRIMARY KEY AUTO_INCREMENT,
 nome VARCHAR(100) NOT NULL,  
 estudio VARCHAR(100) NOT NULL,  
 desenvolvedor VARCHAR(100) NOT NULL,  
 descricao TEXT NOT NULL,  
 imagem VARCHAR(255),  
 plataforma VARCHAR(50) NOT NULL,  
 data_Lançamento DATE NOT NULL,  
 id_usuario INT NOT NULL,  
); 

CREATE TABLE comentario 
( 
 id INT PRIMARY KEY AUTO_INCREMENT,  
 data_comentario DATETIME NOT NULL,  
 texto TEXT NOT NULL,  
 id_usuario INT,  
 id_avaliacao INT,  
); 

CREATE TABLE avaliacao
( 
 id INT PRIMARY KEY AUTO_INCREMENT,  
 nota INT NOT NULL,  
 data_avaliacao DATE NOT NULL,  
 texto TEXT,  
 id_jogo INT NOT NULL,  
 id_usuario INT NOT NULL,  
 CHECK (nota BETWEEN 1 AND 10)
); 

CREATE TABLE genero 
( 
 id INT PRIMARY KEY,  
 nome VARCHAR(50) NOT NULL,  
 UNIQUE (nome)
); 

CREATE TABLE curte 
( 
 id INT PRIMARY KEY,  
 id INT PRIMARY KEY,  
); 

CREATE TABLE favorita 
( 
 id INT PRIMARY KEY,  
 id INT PRIMARY KEY,  
); 

CREATE TABLE Possui 
( 
 id INT PRIMARY KEY,  
 id INT PRIMARY KEY,  
); 

ALTER TABLE JOGO ADD FOREIGN KEY(idUSUARIO) REFERENCES USUÁRIO (idUSUARIO)
ALTER TABLE COMENTÁRIO ADD FOREIGN KEY(idUSUARIO) REFERENCES USUÁRIO (idUSUARIO)
ALTER TABLE COMENTÁRIO ADD FOREIGN KEY(idAVALIAÇÃO) REFERENCES AVALIAÇÃO (idAVALIAÇÃO)
ALTER TABLE AVALIAÇÃO ADD FOREIGN KEY(idJOGO) REFERENCES JOGO (idJOGO)
ALTER TABLE AVALIAÇÃO ADD FOREIGN KEY(idUSUARIO) REFERENCES USUÁRIO (idUSUARIO)
ALTER TABLE Curte ADD FOREIGN KEY(ID) REFERENCES AVALIAÇÃO (ID)
ALTER TABLE Curte ADD FOREIGN KEY(ID) REFERENCES USUÁRIO (ID)
ALTER TABLE Favorita ADD FOREIGN KEY(ID) REFERENCES JOGO (ID)
ALTER TABLE Favorita ADD FOREIGN KEY(ID) REFERENCES USUÁRIO (ID)
ALTER TABLE Possui ADD FOREIGN KEY(ID) REFERENCES JOGO (ID)
ALTER TABLE Possui ADD FOREIGN KEY(ID) REFERENCES GÊNERO (ID)
